{% extends "base.html" %}

{% block lab %}–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 5{% endblock %}

{% block main %}
    <h2>–°—Ç–∞—Ç—å–∏</h2>
    
    {% if login %}
        <p><a href="{{ url_for('lab5.create') }}">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç–∞—Ç—å—é</a></p>
    {% endif %}

    {% if not articles %}
        <p>–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Å—Ç–∞—Ç–µ–π –Ω–µ—Ç.</p>
    {% else %}
        <ul>
        {% for article in articles %}
            <li style="border: 1px solid #ccc; padding: 10px; margin-bottom: 15px; border-radius: 5px; background-color: {% if article.is_favorite %}#fff3cd{% else %}#f9f9f9{% endif %};">
                <h3>
                    {{ article.title }} 
                    {% if article.is_favorite %}‚≠ê{% endif %}
                    {% if article.is_public %}üåé{% endif %}
                </h3>
                
                <p>
                    –ê–≤—Ç–æ—Ä: {{ article.author_login }}
                    {% if article.is_public %} (–ü—É–±–ª–∏—á–Ω–∞—è){% endif %}
                </p>
                <div style="white-space: pre-wrap; margin-top: 10px; border-left: 3px solid #007bff; padding-left: 10px;">
                    {{ article.article_text }}
                </div>
                
                {% if article.author_login == login %}
                    <p style="margin-top: 10px;">
                        <a href="{{ url_for('lab5.edit', article_id=article.id) }}">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                        
                        <form method="POST" action="{{ url_for('lab5.delete', article_id=article.id) }}" style="display: inline; margin-left: 10px;">
                            <button type="submit" style="color: red; border: none; background: none; cursor: pointer;">–£–¥–∞–ª–∏—Ç—å</button>
                        </form>
                    </p>
                {% endif %}
            </li>
        {% endfor %}
        </ul>
    {% endif %}
    
    <a href="{{ url_for('lab5.lab55') }}">–ù–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É</a>
{% endblock %}